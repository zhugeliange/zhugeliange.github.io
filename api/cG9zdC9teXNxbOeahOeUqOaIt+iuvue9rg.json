{"title":"mysql的用户设置","date":"2017-07-22T11:23:42.000Z","slug":"mysql的用户设置","comments":true,"tags":["mysql","用户","设置"],"categories":["mysql"],"updated":"2019-03-29T03:24:32.000Z","content":"<html><head></head><body><h2 id=\"添加用户\"><a href=\"#添加用户\" class=\"headerlink\" title=\"添加用户\"></a>添加用户</h2><figure class=\"highlight sql\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> <span class=\"keyword\">user</span> </span><br><span class=\"line\">\t(host, <span class=\"keyword\">user</span>, <span class=\"keyword\">password</span>, </span><br><span class=\"line\">\tselect_priv, insert_priv, update_priv) </span><br><span class=\"line\">\t<span class=\"keyword\">VALUES</span> (<span class=\"string\">'localhost'</span>, <span class=\"string\">'guest'</span>, </span><br><span class=\"line\">\t<span class=\"keyword\">PASSWORD</span>(<span class=\"string\">'123'</span>), <span class=\"string\">'Y'</span>, <span class=\"string\">'Y'</span>, <span class=\"string\">'Y'</span>);</span><br></pre></td></tr></tbody></table></figure><ul><li><p>在 <strong>5.7</strong> 版本中 <strong>user</strong> 表的 <strong>password</strong> 字段已换成了 <strong>authentication_string</strong>。</p></li><li><p>使用 <strong>MySQL</strong> 自带的 <strong>PASSWORD()</strong> 函数来对密码进行加密。</p></li><li><p>在 <strong>8.0</strong> 版本中 <strong>PASSWORD()</strong> 加密函数已经移除了，可以使用自带的 <strong>MD5()</strong> 函数代替。</p></li><li><p>执行完之后得执行 <strong>FLUSH PRIVILEGES</strong> ，这个命令执行后会重新载入授权表。如果你不使用该命令就无法使用新创建的用户来连接 <strong>MySQL</strong> 服务器，除非重启。</p></li><li><p>可以在创建用户时为用户指定权限，例如上述代码中的 <strong>select_priv</strong>，<strong>insert_priv</strong>，<strong>update_priv</strong> 字段，在对应的权限列中，在插入语句中设置为 <strong>‘Y’</strong> 即可，用户权限列表如下：</p><ul><li><p>Select_priv</p></li><li><p>Insert_priv</p></li><li><p>Update_priv</p></li><li><p>Delete_priv</p></li><li><p>Create_priv</p></li><li><p>Drop_priv</p></li><li><p>Reload_priv</p></li><li><p>Shutdown_priv</p></li><li><p>Process_priv</p></li><li><p>File_priv</p></li><li><p>Grant_priv</p></li><li><p>References_priv</p></li><li><p>Index_priv</p></li><li><p>Alter_priv</p></li></ul></li></ul><h2 id=\"增删改查操作类似，都是对-user-表进行-INSERT，DELETE，UPDATE，SELECT-这些操作。\"><a href=\"#增删改查操作类似，都是对-user-表进行-INSERT，DELETE，UPDATE，SELECT-这些操作。\" class=\"headerlink\" title=\"增删改查操作类似，都是对 user 表进行 INSERT，DELETE，UPDATE，SELECT 这些操作。\"></a>增删改查操作类似，都是对 <strong>user</strong> 表进行 <strong>INSERT</strong>，<strong>DELETE</strong>，<strong>UPDATE</strong>，<strong>SELECT</strong> 这些操作。</h2></body></html>","prev":{"title":"mysql的with-rollup和coalesce函数配合group-by实现分组之后汇总","slug":"mysql的with-rollup和coalesce函数配合group-by实现分组之后汇总"},"next":{"title":"mysql运算符","slug":"mysql运算符"},"link":"/post/mysql的用户设置/","toc":[{"title":"","id":"增删改查操作类似，都是对-user-表进行-INSERT，DELETE，UPDATE，SELECT-这些操作。","index":"1"}],"reward":true,"copyright":{"license":"原创版权，转载请注明来源 (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow noopener\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","author":"沈捷译","link":"<a href=\"/post/mysql的用户设置/\" title=\"mysql的用户设置\">/post/mysql的用户设置/</a>"}}